dependencies {
  compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
  compile group: 'com.fifesoft', name: 'rsyntaxtextarea', version: '2.6.1'
  compile group: 'org.jdom', name: 'jdom2', version: '2.0.6'
  //Jing conflicts with MaryTTS, thats why it's taken out for now
  //compile group: 'com.thaiopensource', name: 'jing', version: '20091111'


  compile project(':com.clt.base')
  compile project(':com.clt.xml')
  compile project(':com.clt.audio')
  compile project(':com.clt.speech')
  compile project(':ClientInterface')
  
  runtime fileTree(dir: "${projectDir}/../plugins", include: '*/build/libs/*.jar')
}

buildscript {
    repositories {
        jcenter()
    }
 
    dependencies {
        // Add dependency for build script,
        // so we can access Git from our
        // build script.
        classpath 'org.ajoberstar:grgit:2.1.0'
    }
}
 

ext {
    // Open the Git repository in the current directory.
    git = org.ajoberstar.grgit.Grgit.open(dir: file('..'))
 
    // Get commit id of HEAD.
    longGitRevision = git.head().id
    shortGitRevision = git.head().abbreviatedId
}

task('saveGitRevision') {
    def prop = new Properties()
    prop.put("longGitRevision", longGitRevision)
    prop.put("shortGitRevision", shortGitRevision)
    
    def propFile = rootProject.file("Diamant/src/main/resources/VERSION");
    propFile.createNewFile();
    prop.store(propFile.newWriter(), null);
}

build.dependsOn(saveGitRevision)

